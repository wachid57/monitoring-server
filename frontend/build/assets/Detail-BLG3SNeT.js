import{a8 as U,a9 as F,r as h,F as M,j as t,L as T}from"./index-CJWZi9CB.js";import{B as P}from"./Breadcrumb-DR6zDa-i.js";import{P as B}from"./PageContainer-BR_WMDrZ.js";import{I as W,a as L}from"./index-C94E8ais.js";import{L as O}from"./Logo-DY6VlJhV.js";import{i as Y,f as N}from"./index-BAiQVf-_.js";import{S as $}from"./Stack-C8hAk-Ua.js";import{B as d}from"./Box-B21Vn3Wr.js";import{T as s}from"./Typography-DW8TAfFy.js";import{C as v}from"./Chip-DQyB0PyW.js";import{D as k}from"./Divider-lbj2_b8Q.js";import{G as b}from"./Grid2-TKUllLdh.js";import{P as y}from"./Paper-Dk0UhltF.js";import{T as R}from"./TableContainer-C29JBPns.js";import{T as Z,d as A,b as C,c as m,a as H}from"./TableRow-BlqcCBcb.js";import{B as I}from"./Button-BH1WbAiu.js";import{B as G}from"./BlankCard-CX0_suEU.js";import{C as _}from"./CardContent-B4ITIunY.js";import"./index.esm-CBP19pFL.js";import"./index-BwqtTtay.js";import"./useSlotProps-Dmx4i6VU.js";import"./Link-DrUusogV.js";import"./index-BRTItZEI.js";import"./createStack-B05ZxkoV.js";import"./composeClasses-CkcSq-l_.js";import"./dividerClasses-ORbXH3Pu.js";import"./resolveProps-CxWqPvcr.js";import"./Card-BdzGKbvD.js";var z=6e4,E=36e5;function w(i,e){var r;U(1,arguments);var n=F((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var a=K(i),o;if(a.date){var l=Q(a.date,n);o=X(l.restDateString,l.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var c=o.getTime(),x=0,u;if(a.time&&(x=ee(a.time),isNaN(x)))return new Date(NaN);if(a.timezone){if(u=te(a.timezone),isNaN(u))return new Date(NaN)}else{var p=new Date(c+x),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(c+x+u)}var j={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},V=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,q=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J=/^([+-])(\d{2})(?::?(\d{2}))?$/;function K(i){var e={},r=i.split(j.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],j.timeZoneDelimiter.test(e.date)&&(e.date=i.split(j.timeZoneDelimiter)[0],n=i.substr(e.date.length,i.length))),n){var a=j.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Q(i,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=i.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:i.slice((n[1]||n[2]).length)}}function X(i,e){if(e===null)return new Date(NaN);var r=i.match(V);if(!r)return new Date(NaN);var n=!!r[4],a=f(r[1]),o=f(r[2])-1,l=f(r[3]),c=f(r[4]),x=f(r[5])-1;if(n)return se(e,c,x)?ie(e,c,x):new Date(NaN);var u=new Date(0);return!ne(e,o,l)||!ae(e,a)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(a,l)),u)}function f(i){return i?parseInt(i):1}function ee(i){var e=i.match(q);if(!e)return NaN;var r=D(e[1]),n=D(e[2]),a=D(e[3]);return oe(r,n,a)?r*E+n*z+a*1e3:NaN}function D(i){return i&&parseFloat(i.replace(",","."))||0}function te(i){if(i==="Z")return 0;var e=i.match(J);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return le(n,a)?r*(n*E+a*z):NaN}function ie(i,e,r){var n=new Date(0);n.setUTCFullYear(i,0,4);var a=n.getUTCDay()||7,o=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}var re=[31,null,31,30,31,30,31,31,30,31,30,31];function S(i){return i%400===0||i%4===0&&i%100!==0}function ne(i,e,r){return e>=0&&e<=11&&r>=1&&r<=(re[e]||(S(i)?29:28))}function ae(i,e){return e>=1&&e<=(S(i)?366:365)}function se(i,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function oe(i,e,r){return i===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&i>=0&&i<25}function le(i,e){return e>=0&&e<=59}const de=()=>{const{invoices:i}=h.useContext(W),[e,r]=h.useState(null);h.useEffect(()=>{i.length>0&&r(i[0])},[i]);const a=M().pathname.split("/").pop();if(h.useEffect(()=>{if(a){const l=i.find(c=>c.billFrom===a);l&&r(l)}},[a,i]),!e)return t.jsx("div",{children:"Loading..."});const o=e.orderDate?Y(w(e.orderDate))?N(w(e.orderDate),"EEEE, MMMM dd, yyyy"):"Invalid Date":N(new Date,"EEEE, MMMM dd, yyyy");return t.jsxs(t.Fragment,{children:[t.jsxs($,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",mb:2,children:[t.jsxs(d,{sx:{textAlign:{xs:"center",sm:"left"}},children:[t.jsxs(s,{variant:"h5",children:["# ",e.id]}),t.jsx(d,{mt:1,children:t.jsx(v,{size:"small",color:"secondary",variant:"outlined",label:o})})]}),t.jsx(O,{}),t.jsx(d,{textAlign:"right",children:e.status==="Shipped"?t.jsx(v,{size:"small",color:"primary",label:e.status}):e.status==="Delivered"?t.jsx(v,{size:"small",color:"success",label:e.status}):e.status==="Pending"?t.jsx(v,{size:"small",color:"warning",label:e.status}):""})]}),t.jsx(k,{}),t.jsxs(b,{container:!0,spacing:3,mt:2,mb:4,children:[t.jsx(b,{size:{xs:12,sm:6},children:t.jsx(y,{variant:"outlined",children:t.jsxs(d,{p:3,display:"flex",flexDirection:"column",gap:"4px",children:[t.jsx(s,{variant:"h6",mb:2,children:"From :"}),t.jsx(s,{variant:"body1",children:e.billFrom}),t.jsx(s,{variant:"body1",children:e.billFromEmail}),t.jsx(s,{variant:"body1",children:e.billFromAddress}),t.jsx(s,{variant:"body1",children:e.billFromPhone})]})})}),t.jsx(b,{size:{xs:12,sm:6},children:t.jsx(y,{variant:"outlined",children:t.jsxs(d,{p:3,display:"flex",flexDirection:"column",gap:"4px",children:[t.jsx(s,{variant:"h6",mb:2,children:"To :"}),t.jsx(s,{variant:"body1",children:e.billTo}),t.jsx(s,{variant:"body1",children:e.billToEmail}),t.jsx(s,{variant:"body1",children:e.billToAddress}),t.jsx(s,{variant:"body1",children:e.billToPhone})]})})})]}),t.jsx(y,{variant:"outlined",children:t.jsx(R,{children:t.jsxs(Z,{children:[t.jsx(A,{children:t.jsxs(C,{children:[t.jsx(m,{children:t.jsx(s,{variant:"h6",fontSize:"14px",children:"Item Name"})}),t.jsx(m,{children:t.jsx(s,{variant:"h6",fontSize:"14px",children:"Unit Price"})}),t.jsx(m,{children:t.jsx(s,{variant:"h6",fontSize:"14px",children:"Unit"})}),t.jsx(m,{align:"right",children:t.jsx(s,{variant:"h6",fontSize:"14px",children:"Total Cost"})})]})}),t.jsx(H,{children:e.orders.map((l,c)=>t.jsxs(C,{children:[t.jsx(m,{children:t.jsx(s,{variant:"body1",children:l.itemName})}),t.jsx(m,{children:t.jsx(s,{variant:"body1",children:l.unitPrice})}),t.jsx(m,{children:t.jsx(s,{variant:"body1",children:l.units})}),t.jsx(m,{align:"right",children:t.jsx(s,{variant:"body1",children:l.unitTotalPrice})})]},c))})]})})}),t.jsxs(d,{p:3,bgcolor:"primary.light",mt:3,children:[t.jsxs(d,{display:"flex",justifyContent:"end",gap:3,mb:3,children:[t.jsx(s,{variant:"body1",fontWeight:600,children:"Sub Total:"}),t.jsx(s,{variant:"body1",fontWeight:600,children:e.totalCost})]}),t.jsxs(d,{display:"flex",justifyContent:"end",gap:3,mb:3,children:[t.jsx(s,{variant:"body1",fontWeight:600,children:"Vat:"}),t.jsx(s,{variant:"body1",fontWeight:600,children:e.vat})]}),t.jsxs(d,{display:"flex",justifyContent:"end",gap:3,children:[t.jsx(s,{variant:"body1",fontWeight:600,children:"Grand Total:"}),t.jsx(s,{variant:"body1",fontWeight:600,children:e.grandTotal})]})]}),t.jsxs(d,{display:"flex",alignItems:"center",gap:1,mt:3,justifyContent:"end",children:[t.jsx(I,{variant:"contained",color:"secondary",component:T,to:`/apps/invoice/edit/${e.billFrom}`,children:"Edit Invoice"}),t.jsx(I,{variant:"contained",color:"primary",component:T,to:"/apps/invoice/list",children:"Back to Invoice List"})]})]})},ce=[{to:"/",title:"Home"},{title:"Invoice Details"}],Ye=()=>t.jsx(L,{children:t.jsxs(B,{title:"Invoice Detail",description:"this is Invoice Detail",children:[t.jsx(P,{title:"Invoice Detail",items:ce}),t.jsx(G,{children:t.jsx(_,{children:t.jsx(de,{})})})]})});export{Ye as default};
