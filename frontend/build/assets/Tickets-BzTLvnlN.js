import{l as j,r as g,U as T,u,j as e,V as f,W as C,X as h}from"./index-CJWZi9CB.js";import{B as k}from"./Breadcrumb-DR6zDa-i.js";import{P as b}from"./PageContainer-BR_WMDrZ.js";import{z as v}from"./index.esm-CBP19pFL.js";import{B as d}from"./Box-B21Vn3Wr.js";import{T as S}from"./TextField-ZPSYDyyk.js";import{T as w}from"./TableContainer-C29JBPns.js";import{T as y,d as L,b as x,c as n,a as P}from"./TableRow-BlqcCBcb.js";import{T as r,s as z}from"./Typography-DW8TAfFy.js";import{S as B}from"./Stack-C8hAk-Ua.js";import{A as W}from"./Avatar-YolhUzp1.js";import{C as A}from"./Chip-DQyB0PyW.js";import{T as I}from"./Tooltip-BXh8ffn_.js";import{I as R}from"./IconButton-Cf6Oa_Gi.js";import{P as D}from"./Pagination-BzHEcuS8.js";import{G as c}from"./Grid2-TKUllLdh.js";import{C as O}from"./ChildCard-DQqe3qgH.js";import"./index-BwqtTtay.js";import"./Paper-Dk0UhltF.js";import"./useSlotProps-Dmx4i6VU.js";import"./Link-DrUusogV.js";import"./useSlot-BJnJs1tW.js";import"./FormControl-CoJ51_a0.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-D8zMB56u.js";import"./isMuiElement-DUOjtQlD.js";import"./useId-5Do1p0JB.js";import"./formControlState-Dq1zat_P.js";import"./Select-BdS4d3Pw.js";import"./Popover-C4QiusQk.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-BmV9fUd8.js";import"./getReactNodeRef-CxaND9dZ.js";import"./ownerWindow-CPegdbNg.js";import"./createChainedFunction-BO_9K8Jh.js";import"./utils-C-EoFTAL.js";import"./Portal-BXG2mGLy.js";import"./debounce-Be36O1Ab.js";import"./Grow-rhCcvyQJ.js";import"./List-CPHbMiuQ.js";import"./useControlled-Cuh16IWT.js";import"./createStack-B05ZxkoV.js";import"./composeClasses-CkcSq-l_.js";import"./Popper-DtoIJ5hI.js";import"./LastPage-DJ9rE5-D.js";import"./Card-BdzGKbvD.js";import"./CardHeader-fWfUcCUC.js";import"./Divider-lbj2_b8Q.js";import"./dividerClasses-ORbXH3Pu.js";import"./CardContent-B4ITIunY.js";const E=()=>{const l=j();g.useEffect(()=>{l(T())},[l]);const a=(t,o,s)=>{switch(o){case"total_tickets":return t.filter(i=>!i.deleted&&i.ticketTitle.toLocaleLowerCase().includes(s));case"Pending":return t.filter(i=>!i.deleted&&i.Status==="Pending"&&i.ticketTitle.toLocaleLowerCase().includes(s));case"Closed":return t.filter(i=>!i.deleted&&i.Status==="Closed"&&i.ticketTitle.toLocaleLowerCase().includes(s));case"Open":return t.filter(i=>!i.deleted&&i.Status==="Open"&&i.ticketTitle.toLocaleLowerCase().includes(s));default:throw new Error(`Unknown filter: ${o}`)}},p=u(t=>a(t.ticketReducer.tickets,t.ticketReducer.currentFilter,t.ticketReducer.ticketSearch));return e.jsxs(d,{mt:4,children:[e.jsx(d,{sx:{maxWidth:"260px",ml:"auto"},mb:3,children:e.jsx(S,{size:"small",label:"Search",fullWidth:!0,onChange:t=>l(f(t.target.value))})}),e.jsx(w,{children:e.jsxs(y,{children:[e.jsx(L,{children:e.jsxs(x,{children:[e.jsx(n,{children:e.jsx(r,{variant:"h6",children:"Id"})}),e.jsx(n,{children:e.jsx(r,{variant:"h6",children:"Ticket"})}),e.jsx(n,{children:e.jsx(r,{variant:"h6",children:"Assigned To"})}),e.jsx(n,{children:e.jsx(r,{variant:"h6",children:"Status"})}),e.jsx(n,{children:e.jsx(r,{variant:"h6",children:"Date"})}),e.jsx(n,{align:"right",children:e.jsx(r,{variant:"h6",children:"Action"})})]})}),e.jsx(P,{children:p.map(t=>e.jsxs(x,{hover:!0,children:[e.jsx(n,{children:t.Id}),e.jsx(n,{children:e.jsxs(d,{children:[e.jsx(r,{variant:"h6",fontWeight:"500",noWrap:!0,children:t.ticketTitle}),e.jsx(r,{color:"textSecondary",noWrap:!0,sx:{maxWidth:"250px"},variant:"subtitle2",fontWeight:"400",children:t.ticketDescription})]})}),e.jsx(n,{children:e.jsxs(B,{direction:"row",gap:"10px",alignItems:"center",children:[e.jsx(W,{src:t.thumb,alt:t.thumb,width:"35",sx:{borderRadius:"100%"}}),e.jsx(r,{variant:"h6",children:t.AgentName})]})}),e.jsx(n,{children:e.jsx(A,{sx:{backgroundColor:t.Status==="Open"?o=>o.palette.success.light:t.Status==="Closed"?o=>o.palette.error.light:t.Status==="Pending"?o=>o.palette.warning.light:t.Status==="Moderate"},size:"small",label:t.Status})}),e.jsx(n,{children:e.jsx(r,{children:t.Date})}),e.jsx(n,{align:"right",children:e.jsx(I,{title:"Delete Ticket",children:e.jsx(R,{onClick:()=>l(C(t.Id)),children:e.jsx(v,{size:"18"})})})})]},t.Id))})]})}),e.jsx(d,{my:3,display:"flex",justifyContent:"center",children:e.jsx(D,{count:10,color:"primary"})})]})},m=z(d)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),F=()=>{const l=j(),a=u(s=>s.ticketReducer.tickets),p=a.filter(s=>s.Status==="Pending").length,t=a.filter(s=>s.Status==="Open").length,o=a.filter(s=>s.Status==="Closed").length;return e.jsxs(c,{container:!0,spacing:3,textAlign:"center",children:[e.jsx(c,{size:{xs:12,sm:6,lg:3},children:e.jsxs(m,{onClick:()=>l(h("total_tickets")),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[e.jsx(r,{variant:"h3",children:a.length}),e.jsx(r,{variant:"h6",children:"Total Tickets"})]})}),e.jsx(c,{size:{xs:12,sm:6,lg:3},children:e.jsxs(m,{onClick:()=>l(h("Pending")),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[e.jsx(r,{variant:"h3",children:p}),e.jsx(r,{variant:"h6",children:"Pending Tickets"})]})}),e.jsx(c,{size:{xs:12,sm:6,lg:3},children:e.jsxs(m,{onClick:()=>l(h("Open")),sx:{backgroundColor:"success.light",color:"success.main"},children:[e.jsx(r,{variant:"h3",children:t}),e.jsx(r,{variant:"h6",children:"Open Tickets"})]})}),e.jsx(c,{size:{xs:12,sm:6,lg:3},children:e.jsxs(m,{onClick:()=>l(h("Closed")),sx:{backgroundColor:"error.light",color:"error.main"},children:[e.jsx(r,{variant:"h3",children:o}),e.jsx(r,{variant:"h6",children:"Closed Tickets"})]})})]})},V=[{to:"/",title:"Home"},{title:"Tickets"}],Oe=()=>e.jsxs(b,{title:"Tickets App",description:"this is Note page",children:[e.jsx(k,{title:"Tickets app",items:V}),e.jsxs(O,{children:[e.jsx(F,{}),e.jsx(E,{})]})]});export{Oe as default};
