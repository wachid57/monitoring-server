import{r as o,j as x,a as n}from"./index-CJWZi9CB.js";const y=o.createContext(void 0),h=({children:d})=>{const[v,r]=o.useState([]),[p,c]=o.useState(!0),[l,E]=o.useState(null);o.useEffect(()=>{(async()=>{try{const e=await n.get("/api/data/invoicedata");r(e.data),c(!1)}catch{c(!1)}})()},[]);const u=async t=>{try{await n.delete("/api/data/invoicedata/deleteinvoice",{data:{invoiceId:t}}),r(e=>e.filter(a=>a.id!==t))}catch(e){console.error("Error deleting invoice:",e)}},I=async t=>{try{const a=(await n.post("/api/data/invoicedata/addinvoice",t)).data;r(s=>[...s,a])}catch(e){console.error("Error adding invoice:",e)}},f=async t=>{try{const a=(await n.put("/api/data/invoicedata/updateinvoice",t)).data;r(s=>s.map(i=>i.id===a.id?a:i))}catch(e){console.error("Error updating invoice:",e)}};return x.jsx(y.Provider,{value:{invoices:v,loading:p,error:l,deleteInvoice:u,addInvoice:I,updateInvoice:f},children:d})};export{y as I,h as a};
