import{g as St,h as At,s as X,_ as s,b as It,v as z,u as pt,a as gt,c as zt}from"./Typography-DW8TAfFy.js";import{r as j,j as m,J as vt}from"./index-CJWZi9CB.js";import{b as Mt,s as Tt,v as nt,N as Rt,u as wt}from"./ChartsAxisHighlight-YKpwFUDQ.js";import{b as bt,u as D,v as jt}from"./useChartContainerDimensions-CjTkzPDm.js";import{C as J,g as Ct}from"./ChartsText-CN86VXtv.js";import{u as ot}from"./Paper-Dk0UhltF.js";import{u as E}from"./useSlotProps-Dmx4i6VU.js";function Pt(t){return At("MuiChartsAxis",t)}const tt=St("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),$t=X("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({[`& .${tt.tickLabel}`]:s({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${tt.label}`]:s({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${tt.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${tt.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),kt=5;function Wt(t,e,i=0){const o=Math.min(Math.abs(i)%180,Math.abs(Math.abs(i)%180-180)%180);if(o<kt)return t;if(o>90-kt)return e;const n=o*Math.PI/180,r=Math.atan2(e,t);return n<r?t/Math.cos(n):e/Math.sin(n)}function Nt(t=!1){const[e,i]=j.useState(!1);return It(()=>{t||i(!0)},[t]),j.useEffect(()=>{t&&i(!0)},[t]),e}const Ht=["scale","tickNumber","reverse"],Et=t=>{const{classes:e,position:i}=t;return gt({root:["root","directionX",i],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Pt,e)};function Xt(t,{tickLabelStyle:e,tickLabelInterval:i,reverse:o,isMounted:n}){const r=t.map(l=>{if(!n||l.formattedValue===void 0)return s({},l,{width:0,height:0});const h=Ct({style:e,needsComputation:!0,text:l.formattedValue});return s({},l,{width:Math.max(...h.map(a=>a.width)),height:Math.max(h.length*h[0].height)})});if(typeof i=="function")return r.map((l,h)=>s({},l,{skipLabel:!i(l.value,h)}));let c=0,p=0;const d=o?-1:1;return r.map((l,h)=>{const{width:a,offset:u,labelOffset:f,height:k}=l,g=Wt(a,k,e==null?void 0:e.angle),b=u+f,x=1.2;return c=b-d*(x*g)/2,h>0&&d*c<d*p?s({},l,{skipLabel:!0}):(p=b+d*(x*g)/2,l)})}const Dt=X($t,{name:"MuiChartsXAxis",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ot={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function yt(t){const{xAxisIds:e,xAxis:i}=bt(),o=i[t.axisId??e[0]],{scale:n,tickNumber:r,reverse:c}=o,p=z(o,Ht),d=Nt(),l=pt({props:s({},p,t),name:"MuiChartsXAxis"}),h=s({},Ot,l),{position:a,disableLine:u,disableTicks:f,tickLabelStyle:k,label:g,labelStyle:b,tickFontSize:x,labelFontSize:L,tickSize:S,valueFormatter:A,slots:v,slotProps:y,tickInterval:R,tickLabelInterval:C,tickPlacement:O,tickLabelPlacement:P,sx:$}=h,T=ot(),M=Et(s({},h,{theme:T})),{left:w,top:W,width:B,height:st,isPointInside:N}=D(),Y=f?4:S,I=a==="bottom"?1:-1,rt=(v==null?void 0:v.axisLine)??"line",K=(v==null?void 0:v.axisTick)??"line",Q=(v==null?void 0:v.axisTickLabel)??J,U=(v==null?void 0:v.axisLabel)??J,_=E({elementType:Q,externalSlotProps:y==null?void 0:y.axisTickLabel,additionalProps:{style:s({textAnchor:"middle",dominantBaseline:a==="bottom"?"hanging":"auto",fontSize:x??12},k)},className:M.tickLabel,ownerState:{}}),at=Mt({scale:n,tickNumber:r,valueFormatter:A,tickInterval:R,tickPlacement:O,tickLabelPlacement:P}),lt=Xt(at,{tickLabelStyle:_.style,tickLabelInterval:C,reverse:c,isMounted:d}),ct={x:w+B/2,y:I*(Y+22)},dt=E({elementType:U,externalSlotProps:y==null?void 0:y.axisLabel,additionalProps:{style:s({fontSize:L??14,textAnchor:"middle",dominantBaseline:a==="bottom"?"hanging":"auto"},b)},ownerState:{}}),F=n.domain(),G=jt(n);return G&&F.length===0||!G&&F.some(Tt)?null:m.jsxs(Dt,{transform:`translate(0, ${a==="bottom"?W+st:W})`,className:M.root,sx:$,children:[!u&&m.jsx(rt,s({x1:w,x2:w+B,className:M.line},y==null?void 0:y.axisLine)),lt.map(({formattedValue:q,offset:H,labelOffset:ut,skipLabel:ht},Z)=>{const V=ut??0,xt=I*(Y+3),mt=N({x:H,y:-1},{direction:"x"}),ft=N({x:H+V,y:-1},{direction:"x"});return m.jsxs("g",{transform:`translate(${H}, 0)`,className:M.tickContainer,children:[!f&&mt&&m.jsx(K,s({y2:I*Y,className:M.tick},y==null?void 0:y.axisTick)),q!==void 0&&!ht&&ft&&m.jsx(Q,s({x:V,y:xt},_,{text:q.toString()}))]},Z)}),g&&m.jsx("g",{className:M.label,children:m.jsx(U,s({},ct,dt,{text:g}))})]})}const Bt=["scale","tickNumber"],Yt=t=>{const{classes:e,position:i}=t;return gt({root:["root","directionY",i],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Pt,e)},Ut=X($t,{name:"MuiChartsYAxis",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_t={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function Lt(t){const{yAxisIds:e,yAxis:i}=bt(),o=i[t.axisId??e[0]],{scale:n,tickNumber:r}=o,c=z(o,Bt),p=pt({props:s({},c,t),name:"MuiChartsYAxis"}),d=s({},_t,p),{position:l,disableLine:h,disableTicks:a,tickFontSize:u,label:f,labelFontSize:k,labelStyle:g,tickLabelStyle:b,tickSize:x,valueFormatter:L,slots:S,slotProps:A,tickPlacement:v,tickLabelPlacement:y,tickInterval:R,tickLabelInterval:C,sx:O}=d,P=ot(),$=vt(),T=Yt(s({},d,{theme:P})),{left:M,top:w,width:W,height:B,isPointInside:st}=D(),N=a?4:x,Y=Mt({scale:n,tickNumber:r,valueFormatter:L,tickPlacement:v,tickLabelPlacement:y,tickInterval:R}),I=l==="right"?1:-1,rt={x:I*(u+N+10),y:w+B/2},K=(S==null?void 0:S.axisLine)??"line",Q=(S==null?void 0:S.axisTick)??"line",U=(S==null?void 0:S.axisTickLabel)??J,_=(S==null?void 0:S.axisLabel)??J,at=!$&&l==="right"||$&&l!=="right",lt=E({elementType:U,externalSlotProps:A==null?void 0:A.axisTickLabel,additionalProps:{style:s({fontSize:u,textAnchor:at?"start":"end",dominantBaseline:"central"},b)},className:T.tickLabel,ownerState:{}}),ct=E({elementType:_,externalSlotProps:A==null?void 0:A.axisLabel,additionalProps:{style:s({fontSize:k,angle:I*90,textAnchor:"middle",dominantBaseline:"auto"},g)},ownerState:{}}),dt=E({elementType:K,externalSlotProps:A==null?void 0:A.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),F=n.domain(),G=jt(n);return G&&F.length===0||!G&&F.some(Tt)?null:m.jsxs(Ut,{transform:`translate(${l==="right"?M+W:M}, 0)`,className:T.root,sx:O,children:[!h&&m.jsx(K,s({y1:w,y2:w+B,className:T.line},dt)),Y.map(({formattedValue:q,offset:H,labelOffset:ut,value:ht},Z)=>{const V=I*(N+2),xt=ut,mt=typeof C=="function"&&!(C!=null&&C(ht,Z));return st({x:-1,y:H},{direction:"y"})?m.jsxs("g",{transform:`translate(0, ${H})`,className:T.tickContainer,children:[!a&&m.jsx(Q,s({x2:I*N,className:T.tick},A==null?void 0:A.axisTick)),q!==void 0&&!mt&&m.jsx(U,s({x:V,y:xt,text:q.toString()},lt))]},Z):null}),f&&m.jsx("g",{className:T.label,children:m.jsx(_,s({},rt,ct,{text:f}))})]})}const et=(t,e)=>t==null?null:typeof t=="object"?t.axisId??e??null:t,it=(t,e,i)=>typeof t=="object"?s({},t,{slots:s({},e,t==null?void 0:t.slots),slotProps:s({},i,t==null?void 0:t.slotProps)}):{slots:e,slotProps:i};function Me(t){const{topAxis:e,leftAxis:i,rightAxis:o,bottomAxis:n,slots:r,slotProps:c}=t,{xAxis:p,xAxisIds:d,yAxis:l,yAxisIds:h}=bt(),a=et(i===void 0?h[0]:i,h[0]),u=et(n===void 0?d[0]:n,d[0]),f=et(e,d[0]),k=et(o,h[0]);if(f!==null&&!p[f])throw new Error([`MUI X: id used for top axis "${f}" is not defined.`,`Available ids are: ${d.join(", ")}.`].join(`
`));if(a!==null&&!l[a])throw new Error([`MUI X: id used for left axis "${a}" is not defined.`,`Available ids are: ${h.join(", ")}.`].join(`
`));if(k!==null&&!l[k])throw new Error([`MUI X: id used for right axis "${k}" is not defined.`,`Available ids are: ${h.join(", ")}.`].join(`
`));if(u!==null&&!p[u])throw new Error([`MUI X: id used for bottom axis "${u}" is not defined.`,`Available ids are: ${d.join(", ")}.`].join(`
`));const g=it(e,r,c),b=it(n,r,c),x=it(i,r,c),L=it(o,r,c);return m.jsxs(j.Fragment,{children:[f&&m.jsx(yt,s({},g,{position:"top",axisId:f})),u&&m.jsx(yt,s({},b,{position:"bottom",axisId:u})),a&&m.jsx(Lt,s({},x,{position:"left",axisId:a})),k&&m.jsx(Lt,s({},L,{position:"right",axisId:k}))]})}const Ft=t=>{const{seriesOrder:e,series:i}=t;return e.reduce((o,n)=>{const r=nt(i[n].label,"legend");return r===void 0||o.push({id:n,seriesId:n,color:i[n].color,label:r}),o},[])},Gt=t=>{const{seriesOrder:e,series:i}=t;return e.reduce((o,n)=>{const r=nt(i[n].label,"legend");return r===void 0||o.push({id:n,seriesId:n,color:i[n].color,label:r}),o},[])},qt=t=>{const{seriesOrder:e,series:i}=t;return e.reduce((o,n)=>{const r=nt(i[n].label,"legend");return r===void 0||o.push({id:n,seriesId:n,color:i[n].color,label:r}),o},[])},Jt=t=>{const{seriesOrder:e,series:i}=t;return e.reduce((o,n)=>(i[n].data.forEach(r=>{const c=nt(r.label,"legend");c!==void 0&&o.push({id:r.id,seriesId:n,color:r.color,label:c,itemId:r.id})}),o),[])},Kt={bar:Ft,scatter:Gt,line:qt,pie:Jt};function Qt(t){return Object.keys(t).flatMap(e=>{const i=Kt[e];return i===void 0?[]:i(t[e])})}function Zt(t){return At("MuiChartsLegend",t)}St("MuiChartsLegend",["root","series","itemBackground","mark","label","column","row"]);const Vt=["label"];function te(t,e,i,o,n,r,c){let p=0,d=0,l=0,h=0,a=0;const u=[0];return[t.map(k=>{let{label:g}=k,b=z(k,Vt);const x=e(g,i),L=s({},b,{label:g,positionX:p,positionY:d,innerHeight:x.innerHeight,innerWidth:x.innerWidth,outerHeight:x.outerHeight,outerWidth:x.outerWidth,rowIndex:a});return o==="row"&&(p+x.innerWidth>n&&(p=0,d+=u[a],a+=1,u.length<=a&&u.push(0),L.positionX=p,L.positionY=d,L.rowIndex=a),l=Math.max(l,p+x.outerWidth),h=Math.max(h,d+x.outerHeight),u[a]=Math.max(u[a],x.outerHeight),p+=x.outerWidth),o==="column"&&(d+x.innerHeight>r&&(p=l+c,d=0,a=0,L.positionX=p,L.positionY=d,L.rowIndex=a),u.length<=a&&u.push(0),l=Math.max(l,p+x.outerWidth),h=Math.max(h,d+x.outerHeight),a+=1,d+=x.outerHeight),L}).map(k=>s({},k,{positionY:k.positionY+(o==="row"?u[k.rowIndex]/2:k.outerHeight/2)})),l,h]}function ee(t){const e=vt(),{id:i,positionY:o,label:n,positionX:r,innerHeight:c,innerWidth:p,legendWidth:d,color:l,gapX:h,gapY:a,itemMarkHeight:u,itemMarkWidth:f,markGap:k,labelStyle:g,classes:b,onClick:x}=t;return m.jsxs("g",{className:zt(b==null?void 0:b.series,`${b==null?void 0:b.series}-${i}`),transform:`translate(${h+(e?d-r:r)} ${a+o})`,children:[m.jsx("rect",{x:e?-(p+2):-2,y:-u/2-2,width:p+4,height:c+4,fill:"transparent",className:b==null?void 0:b.itemBackground,onClick:x,style:{pointerEvents:x?"all":"none",cursor:x?"pointer":"unset"}}),m.jsx("rect",{className:b==null?void 0:b.mark,x:e?-f:0,y:-u/2,width:f,height:u,fill:l,style:{pointerEvents:"none"}}),m.jsx(J,{style:s({pointerEvents:"none"},g),text:n,x:(e?-1:1)*(f+k),y:0})]})}const ie=["rotate","dominantBaseline"],ne=X("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(t,e)=>e.root})({}),oe=t=>typeof t=="number"?{left:t,right:t,top:t,bottom:t}:s({left:0,right:0,top:0,bottom:0},t);function se(t){const{position:e,direction:i,itemsToDisplay:o,classes:n,itemMarkWidth:r=20,itemMarkHeight:c=20,markGap:p=5,itemGap:d=10,padding:l=10,labelStyle:h,onItemClick:a}=t,u=ot(),f=D(),k=j.useMemo(()=>s({},u.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(u.vars||u).palette.text.primary,lineHeight:1},h),[h,u]),g=j.useMemo(()=>oe(l),[l]),b=j.useCallback((P,$={})=>{const T=z($,ie),M=Ct({style:T,needsComputation:!0,text:P}),w={innerWidth:r+p+Math.max(...M.map(W=>W.width)),innerHeight:Math.max(c,M.length*M[0].height)};return s({},w,{outerWidth:w.innerWidth+d,outerHeight:w.innerHeight+d})},[d,c,r,p]),x=f.left+f.width+f.right,L=f.top+f.height+f.bottom,S=x-g.left-g.right,A=L-g.top-g.bottom,[v,y,R]=j.useMemo(()=>te(o,b,k,i,S,A,d),[o,b,k,i,S,A,d]),C=j.useMemo(()=>{switch(e.horizontal){case"left":return g.left;case"right":return x-g.right-y;default:return(x-y)/2}},[e.horizontal,g.left,g.right,x,y]),O=j.useMemo(()=>{switch(e.vertical){case"top":return g.top;case"bottom":return L-g.bottom-R;default:return(L-R)/2}},[e.vertical,g.top,g.bottom,L,R]);return m.jsx(Rt,{children:m.jsx(ne,{className:n==null?void 0:n.root,children:v.map((P,$)=>j.createElement(ee,s({},P,{key:P.id,gapX:C,gapY:O,legendWidth:y,itemMarkHeight:c,itemMarkWidth:r,markGap:p,labelStyle:k,classes:n,onClick:a?T=>a(T,$):void 0})))})})}const re=["drawingArea","seriesToDisplay","hidden","onItemClick"],ae=t=>({type:"series",color:t.color,label:t.label,seriesId:t.seriesId,itemId:t.itemId});function le(t){const{seriesToDisplay:e,hidden:i,onItemClick:o}=t,n=z(t,re);return i?null:m.jsx(se,s({},n,{itemsToDisplay:e,onItemClick:o?(r,c)=>o(r,ae(e[c]),c):void 0}))}const ce=["slots","slotProps"],de=t=>{const{classes:e,direction:i}=t;return gt({root:["root",i],mark:["mark"],label:["label"],series:["series"],itemBackground:["itemBackground"]},Zt,e)};function Te(t){const e=pt({props:t,name:"MuiChartsLegend"}),i=s({direction:"row"},e,{position:s({horizontal:"middle",vertical:"top"},e.position)}),{slots:o,slotProps:n}=i,r=z(i,ce),c=ot(),p=de(s({},i,{theme:c})),d=D(),l=wt(),h=Qt(l),a=(o==null?void 0:o.legend)??le,u=E({elementType:a,externalSlotProps:n==null?void 0:n.legend,additionalProps:s({},r,{classes:p,drawingArea:d,series:l,seriesToDisplay:h}),ownerState:{}});return m.jsx(a,s({},u))}const ue=["message"],he=X("text")(({theme:t})=>s({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function xe(t){const{message:e}=t,i=z(t,ue),{top:o,left:n,height:r,width:c}=D();return m.jsx(he,s({x:n+c/2,y:o+r/2},i,{children:e??"Loading data…"}))}const me=["message"],pe=X("text")(({theme:t})=>s({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function ge(t){const{message:e}=t,i=z(t,me),{top:o,left:n,height:r,width:c}=D();return m.jsx(pe,s({x:n+c/2,y:o+r/2},i,{children:e??"No data to display"}))}function be(){const t=wt();return Object.values(t).every(e=>{if(!e)return!0;const{series:i,seriesOrder:o}=e;return o.every(n=>i[n].data.length===0)})}function we(t){var i,o,n,r;const e=be();if(t.loading){const c=((i=t.slots)==null?void 0:i.loadingOverlay)??xe;return m.jsx(c,s({},(o=t.slotProps)==null?void 0:o.loadingOverlay))}if(e){const c=((n=t.slots)==null?void 0:n.noDataOverlay)??ge;return m.jsx(c,s({},(r=t.slotProps)==null?void 0:r.noDataOverlay))}return null}export{we as C,Me as a,Te as b,yt as c,Lt as d,tt as e};
