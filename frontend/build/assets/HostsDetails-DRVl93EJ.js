import{r as g,i as F,j as s,e as w,h as P,B as U,A as V,z as Z,C as K}from"./index-CJWZi9CB.js";import{P as C}from"./PageContainer-BR_WMDrZ.js";import{B as J}from"./Breadcrumb-DR6zDa-i.js";import{B as G}from"./Box-B21Vn3Wr.js";import{C as X}from"./CircularProgress-DjzG6_YG.js";import{A as q}from"./Alert-NqiMgJWO.js";import{h as Q,g as Y,s as tt,u as st,c as rt,a as et,T as c}from"./Typography-DW8TAfFy.js";import{u as it}from"./Paper-Dk0UhltF.js";import{C as W}from"./Card-BdzGKbvD.js";import{C as T}from"./CardContent-B4ITIunY.js";import{S as H}from"./Stack-C8hAk-Ua.js";import{D as S}from"./Divider-lbj2_b8Q.js";import{B as M}from"./Button-BH1WbAiu.js";import"./index.esm-CBP19pFL.js";import"./Grid2-TKUllLdh.js";import"./composeClasses-CkcSq-l_.js";import"./index-BwqtTtay.js";import"./useSlotProps-Dmx4i6VU.js";import"./Link-DrUusogV.js";import"./useSlot-BJnJs1tW.js";import"./Close-4pq8Nglm.js";import"./IconButton-Cf6Oa_Gi.js";import"./createStack-B05ZxkoV.js";import"./dividerClasses-ORbXH3Pu.js";import"./resolveProps-CxWqPvcr.js";const R=g.createContext();function nt(t){return Q("MuiGrid",t)}const ot=[0,1,2,3,4,5,6,7,8,9,10],at=["column-reverse","column","row-reverse","row"],ct=["nowrap","wrap-reverse","wrap"],j=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],v=Y("MuiGrid",["root","container","item","zeroMinWidth",...ot.map(t=>`spacing-xs-${t}`),...at.map(t=>`direction-xs-${t}`),...ct.map(t=>`wrap-xs-${t}`),...j.map(t=>`grid-xs-${t}`),...j.map(t=>`grid-sm-${t}`),...j.map(t=>`grid-md-${t}`),...j.map(t=>`grid-lg-${t}`),...j.map(t=>`grid-xl-${t}`)]);function lt({theme:t,ownerState:i}){let r;return t.breakpoints.keys.reduce((n,e)=>{let o={};if(i[e]&&(r=i[e]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=w({values:i.columns,breakpoints:t.breakpoints.values}),d=typeof a=="object"?a[e]:a;if(d==null)return n;const m=`${Math.round(r/d*1e8)/1e6}%`;let l={};if(i.container&&i.item&&i.columnSpacing!==0){const p=t.spacing(i.columnSpacing);if(p!=="0px"){const u=`calc(${m} + ${p})`;l={flexBasis:u,maxWidth:u}}}o={flexBasis:m,flexGrow:0,maxWidth:m,...l}}return t.breakpoints.values[e]===0?Object.assign(n,o):n[t.breakpoints.up(e)]=o,n},{})}function dt({theme:t,ownerState:i}){const r=w({values:i.direction,breakpoints:t.breakpoints.values});return P({theme:t},r,n=>{const e={flexDirection:n};return n.startsWith("column")&&(e[`& > .${v.item}`]={maxWidth:"none"}),e})}function I({breakpoints:t,values:i}){let r="";Object.keys(i).forEach(e=>{r===""&&i[e]!==0&&(r=e)});const n=Object.keys(t).sort((e,o)=>t[e]-t[o]);return n.slice(0,n.indexOf(r))}function ut({theme:t,ownerState:i}){const{container:r,rowSpacing:n}=i;let e={};if(r&&n!==0){const o=w({values:n,breakpoints:t.breakpoints.values});let a;typeof o=="object"&&(a=I({breakpoints:t.breakpoints.values,values:o})),e=P({theme:t},o,(d,m)=>{const l=t.spacing(d);return l!=="0px"?{marginTop:t.spacing(-d),[`& > .${v.item}`]:{paddingTop:l}}:a!=null&&a.includes(m)?{}:{marginTop:0,[`& > .${v.item}`]:{paddingTop:0}}})}return e}function pt({theme:t,ownerState:i}){const{container:r,columnSpacing:n}=i;let e={};if(r&&n!==0){const o=w({values:n,breakpoints:t.breakpoints.values});let a;typeof o=="object"&&(a=I({breakpoints:t.breakpoints.values,values:o})),e=P({theme:t},o,(d,m)=>{const l=t.spacing(d);if(l!=="0px"){const p=t.spacing(-d);return{width:`calc(100% + ${l})`,marginLeft:p,[`& > .${v.item}`]:{paddingLeft:l}}}return a!=null&&a.includes(m)?{}:{width:"100%",marginLeft:0,[`& > .${v.item}`]:{paddingLeft:0}}})}return e}function mt(t,i,r={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]];const n=[];return i.forEach(e=>{const o=t[e];Number(o)>0&&n.push(r[`spacing-${e}-${String(o)}`])}),n}const xt=tt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:r}=t,{container:n,direction:e,item:o,spacing:a,wrap:d,zeroMinWidth:m,breakpoints:l}=r;let p=[];n&&(p=mt(a,l,i));const u=[];return l.forEach(f=>{const h=r[f];h&&u.push(i[`grid-${f}-${String(h)}`])}),[i.root,n&&i.container,o&&i.item,m&&i.zeroMinWidth,...p,e!=="row"&&i[`direction-xs-${String(e)}`],d!=="wrap"&&i[`wrap-xs-${String(d)}`],...u]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),dt,ut,pt,lt);function ft(t,i){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const r=[];return i.forEach(n=>{const e=t[n];if(Number(e)>0){const o=`spacing-${n}-${String(e)}`;r.push(o)}}),r}const ht=t=>{const{classes:i,container:r,direction:n,item:e,spacing:o,wrap:a,zeroMinWidth:d,breakpoints:m}=t;let l=[];r&&(l=ft(o,m));const p=[];m.forEach(f=>{const h=t[f];h&&p.push(`grid-${f}-${String(h)}`)});const u={root:["root",r&&"container",e&&"item",d&&"zeroMinWidth",...l,n!=="row"&&`direction-xs-${String(n)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...p]};return et(u,nt,i)},x=g.forwardRef(function(i,r){const n=st({props:i,name:"MuiGrid"}),{breakpoints:e}=it(),o=F(n),{className:a,columns:d,columnSpacing:m,component:l="div",container:p=!1,direction:u="row",item:f=!1,rowSpacing:h,spacing:$=0,wrap:A="wrap",zeroMinWidth:z=!1,...y}=o,D=h||$,L=m||$,O=g.useContext(R),E=p?d||12:O,k={},B={...y};e.keys.forEach(b=>{y[b]!=null&&(k[b]=y[b],delete B[b])});const N={...o,columns:E,container:p,direction:u,item:f,rowSpacing:D,columnSpacing:L,wrap:A,zeroMinWidth:z,spacing:$,...k,breakpoints:e.keys},_=ht(N);return s.jsx(R.Provider,{value:E,children:s.jsx(xt,{ownerState:N,className:rt(_.root,a),as:l,ref:r,...B})})}),gt=[{to:"/",title:"Home"},{to:"/monitoring/hosts",title:"Hosts"},{title:"Edit"}],_t=({match:t,location:i})=>{const[r,n]=g.useState(null),[e,o]=g.useState(!0),[a,d]=g.useState(""),l=(()=>{const p=window.location.pathname.split("/").filter(Boolean);return p.length>2?p[2]:null})();return g.useEffect(()=>{l?(async()=>{o(!0);try{const u=await fetch(U+V+`/hosts/${l}`,{headers:Z()});if(u.status===401||u.status===403)return K({status:u.status});if(!u.ok){const h=await u.json();d(h.error||"Failed to load host"),o(!1);return}const f=await u.json();n(f)}catch(u){console.error(u),d("Failed to load host")}finally{o(!1)}})():(d("Invalid host id"),o(!1))},[l]),e?s.jsx(C,{title:"Host details",children:s.jsx(G,{display:"flex",justifyContent:"center",py:6,children:s.jsx(X,{})})}):a?s.jsx(C,{title:"Host details",children:s.jsx(q,{severity:"error",children:a})}):s.jsxs(C,{title:"Edit",description:"Host details and configuration",children:[s.jsx(J,{title:"Edit",items:gt}),s.jsx(G,{mt:2}),s.jsxs(x,{container:!0,spacing:3,children:[s.jsx(x,{item:!0,xs:12,md:8,children:s.jsx(W,{sx:{border:"1px solid rgba(0,0,0,0.06)"},children:s.jsx(T,{children:s.jsxs(H,{spacing:2,children:[s.jsx(c,{variant:"h5",children:r.hostname||r.ip||"Host details"}),s.jsx(c,{color:"textSecondary",children:r.alias||""}),s.jsx(S,{}),s.jsxs(x,{container:!0,spacing:2,children:[s.jsxs(x,{item:!0,xs:12,sm:6,children:[s.jsx(c,{variant:"subtitle2",children:"Monitor Type"}),s.jsx(c,{children:r.monitor_type||"HTTP(s)"})]}),s.jsxs(x,{item:!0,xs:12,sm:6,children:[s.jsx(c,{variant:"subtitle2",children:"URL / IP"}),s.jsx(c,{children:r.ip||r.url||"-"})]}),s.jsxs(x,{item:!0,xs:12,sm:6,children:[s.jsx(c,{variant:"subtitle2",children:"Heartbeat Interval"}),s.jsx(c,{children:r.heartbeat_interval||"-"})]}),s.jsxs(x,{item:!0,xs:12,sm:6,children:[s.jsx(c,{variant:"subtitle2",children:"Timeout"}),s.jsx(c,{children:r.timeout||"-"})]})]}),s.jsx(S,{}),s.jsx(c,{variant:"h6",children:"Advanced"}),s.jsxs(x,{container:!0,spacing:2,children:[s.jsxs(x,{item:!0,xs:12,sm:6,children:[s.jsx(c,{variant:"subtitle2",children:"Retries"}),s.jsx(c,{children:r.retries??0})]}),s.jsxs(x,{item:!0,xs:12,sm:6,children:[s.jsx(c,{variant:"subtitle2",children:"Tags"}),s.jsx(c,{children:r.hosts_tags||"-"})]})]})]})})})}),s.jsx(x,{item:!0,xs:12,md:4,children:s.jsx(W,{sx:{border:"1px solid rgba(0,0,0,0.06)"},children:s.jsx(T,{children:s.jsxs(H,{spacing:2,children:[s.jsx(c,{variant:"h6",children:"Notifications"}),s.jsx(M,{variant:"contained",color:"success",children:"Setup Notification"}),s.jsx(S,{}),s.jsx(c,{variant:"h6",children:"Proxy"}),s.jsx(M,{variant:"contained",color:"success",children:"Setup Proxy"}),s.jsx(S,{}),s.jsx(c,{variant:"h6",children:"HTTP Options"}),s.jsx(c,{variant:"subtitle2",children:"Method"}),s.jsx(c,{children:r.method||"GET"}),s.jsx(c,{variant:"subtitle2",children:"Body Encoding"}),s.jsx(c,{children:r.body_encoding||"JSON"})]})})})})]})]})};export{_t as default};
