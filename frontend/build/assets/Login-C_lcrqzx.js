import{r as l,B as S,A as w,j as e,L}from"./index-CJWZi9CB.js";import{P as b}from"./PageContainer-BR_WMDrZ.js";import{L as I}from"./Logo-DY6VlJhV.js";import{C as v}from"./CustomCheckbox-BUgU_PFM.js";import{C as f}from"./CustomTextField-DO2tpUr9.js";import{C as j}from"./CustomFormLabel-Dc-sew0o.js";import{T as x}from"./Typography-DW8TAfFy.js";import{S as y}from"./Stack-C8hAk-Ua.js";import{B as n}from"./Box-B21Vn3Wr.js";import{F as k}from"./FormGroup-D9nEVC8h.js";import{F}from"./FormControlLabel-gVATSXRg.js";import{B as P}from"./Button-BH1WbAiu.js";import"./login-l0sNRNKZ.js";import{G as C}from"./Grid2-TKUllLdh.js";import{C as T}from"./Card-BdzGKbvD.js";import"./Checkbox-H4Hg7Z4o.js";import"./SwitchBase-D_lOZTBK.js";import"./useFormControl-D8zMB56u.js";import"./useControlled-Cuh16IWT.js";import"./Paper-Dk0UhltF.js";import"./TextField-ZPSYDyyk.js";import"./useSlot-BJnJs1tW.js";import"./FormControl-CoJ51_a0.js";import"./utils-DoM3o7-Q.js";import"./isMuiElement-DUOjtQlD.js";import"./useId-5Do1p0JB.js";import"./formControlState-Dq1zat_P.js";import"./Select-BdS4d3Pw.js";import"./index-BwqtTtay.js";import"./Popover-C4QiusQk.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-BmV9fUd8.js";import"./getReactNodeRef-CxaND9dZ.js";import"./ownerWindow-CPegdbNg.js";import"./createChainedFunction-BO_9K8Jh.js";import"./utils-C-EoFTAL.js";import"./Portal-BXG2mGLy.js";import"./debounce-Be36O1Ab.js";import"./Grow-rhCcvyQJ.js";import"./List-CPHbMiuQ.js";import"./useSlotProps-Dmx4i6VU.js";import"./createStack-B05ZxkoV.js";import"./composeClasses-CkcSq-l_.js";import"./resolveProps-CxWqPvcr.js";function B(){const[o,d]=l.useState(""),[a,p]=l.useState(""),[c,i]=l.useState(""),[h,s]=l.useState(!1);return{username:o,setUsername:d,password:a,setPassword:p,error:c,loading:h,handleLogin:async(u,m)=>{u.preventDefault(),i(""),s(!0);try{const t=await fetch(S+w+"/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:a})}),r=await t.json();t.ok&&r.token?(localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("sessionId",r.session_id),localStorage.setItem("expiresIn",r.expires_in),localStorage.setItem("loginTime",new Date().toISOString()),m&&m("/dashboards/modern")):i(r.error||r.message||"Login gagal")}catch(t){console.error("Login error:",t),i("Terjadi kesalahan saat login")}finally{s(!1)}}}}const W=({title:o,subtitle:d,subtext:a})=>{const{username:p,setUsername:c,password:i,setPassword:h,error:s,loading:g,handleLogin:u}=B(),m=()=>{window.location.href="/dashboards/modern"};return e.jsxs(e.Fragment,{children:[o?e.jsx(x,{fontWeight:"700",variant:"h3",mb:1,children:o}):null,a,e.jsxs("form",{onSubmit:t=>u(t,m),children:[e.jsxs(y,{children:[e.jsxs(n,{children:[e.jsx(j,{htmlFor:"username",children:"Username"}),e.jsx(f,{id:"username",variant:"outlined",fullWidth:!0,value:p,onChange:t=>c(t.target.value),required:!0})]}),e.jsxs(n,{children:[e.jsx(j,{htmlFor:"password",children:"Password"}),e.jsx(f,{id:"password",type:"password",variant:"outlined",fullWidth:!0,value:i,onChange:t=>h(t.target.value),required:!0})]}),e.jsxs(y,{justifyContent:"space-between",direction:"row",alignItems:"center",my:2,children:[e.jsx(k,{children:e.jsx(F,{control:e.jsx(v,{defaultChecked:!0}),label:"Remember this Device"})}),e.jsx(x,{component:L,to:"/auth/forgot-password",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main"},children:"Forgot Password ?"})]})]}),e.jsx(n,{children:e.jsx(P,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:g,children:g?"Signing In...":"Sign In"})}),s&&e.jsx(x,{color:"error",mt:2,children:s})]}),d]})},Le=()=>e.jsx(b,{title:"Login",description:"this is Login page",children:e.jsx(n,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:e.jsx(C,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:e.jsx(C,{size:{xs:12,sm:12,lg:5,xl:4},display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(T,{elevation:9,sx:{p:4,zIndex:1,width:"100%",maxWidth:"450px"},children:[e.jsx(n,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(I,{})}),e.jsx("div",{className:"login-container",children:e.jsx(W,{})})]})})})})});export{Le as default};
