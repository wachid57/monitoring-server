import{P as f,r as h,l as G,n as J,u as N,j as e,b as Q}from"./index-CJWZi9CB.js";import{C as A}from"./CustomCheckbox-BUgU_PFM.js";import{C as U}from"./CustomSwitch-CaSTkIFC.js";import{C as V,D as Y,z as Z,R as _}from"./index.esm-CBP19pFL.js";import{B as u}from"./Box-B21Vn3Wr.js";import{P as ee}from"./Paper-Dk0UhltF.js";import{T as te}from"./TableContainer-C29JBPns.js";import{T as se,a as ne,b as R,c as x,d as re}from"./TableRow-BlqcCBcb.js";import{A as ae}from"./Avatar-YolhUzp1.js";import{T as g}from"./Typography-DW8TAfFy.js";import{f as ie}from"./index-BAiQVf-_.js";import{T as k}from"./Tooltip-BXh8ffn_.js";import{I as y}from"./IconButton-Cf6Oa_Gi.js";import{T as ce}from"./TablePagination-CB-3HSVm.js";import{F as le}from"./FormControlLabel-gVATSXRg.js";import{T as oe}from"./TableSortLabel-CyHMPk7E.js";import{v as de}from"./visuallyHidden-Dan1xhjv.js";import{T as he}from"./Toolbar-0qdi2YfE.js";import{T as me}from"./TextField-ZPSYDyyk.js";import{I as ue}from"./InputAdornment-DP5E7Axe.js";function w(l,a,s){return a[s]<l[s]?-1:a[s]>l[s]?1:0}function xe(l,a){return l==="desc"?(s,r)=>w(s,r,a):(s,r)=>-w(s,r,a)}function pe(l,a){const s=l.map((r,n)=>[r,n]);return s.sort((r,n)=>{const m=a(r[0],n[0]);return m!==0?m:r[1]-n[1]}),s.map(r=>r[0])}const fe=[{id:"name",numeric:!1,disablePadding:!1,label:"Products"},{id:"pname",numeric:!1,disablePadding:!1,label:"Date"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"price",numeric:!1,disablePadding:!1,label:"Price"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}];function D(l){const{onSelectAllClick:a,order:s,orderBy:r,numSelected:n,rowCount:m,onRequestSort:p}=l,P=i=>C=>{p(C,i)};return e.jsx(re,{children:e.jsxs(R,{children:[e.jsx(x,{padding:"checkbox",children:e.jsx(A,{color:"primary",checked:m>0&&n===m,onChange:a,inputprops:{"aria-label":"select all desserts"}})}),fe.map(i=>e.jsx(x,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:r===i.id?s:!1,children:e.jsxs(oe,{active:r===i.id,direction:r===i.id?s:"asc",onClick:P(i.id),children:[i.label,r===i.id?e.jsx(u,{component:"span",sx:de,children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))]})})}D.propTypes={numSelected:f.number.isRequired,onRequestSort:f.func.isRequired,onSelectAllClick:f.func.isRequired,order:f.oneOf(["asc","desc"]).isRequired,orderBy:f.string.isRequired,rowCount:f.number.isRequired};const z=l=>{const{numSelected:a,handleSearch:s,search:r}=l;return e.jsxs(he,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...a>0&&{bgcolor:n=>Q(n.palette.primary.main,n.palette.action.activatedOpacity)}},children:[a>0?e.jsxs(g,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",component:"div",children:[a," selected"]}):e.jsx(u,{sx:{flex:"1 1 100%"},children:e.jsx(me,{slotProps:{input:{startAdornment:e.jsx(ue,{position:"start",children:e.jsx(Y,{size:"1..1rem"})})}},placeholder:"Search Product",size:"small",onChange:s,value:r})}),a>0?e.jsx(k,{title:"Delete",children:e.jsx(y,{children:e.jsx(Z,{width:"18"})})}):e.jsx(k,{title:"Filter list",children:e.jsx(y,{children:e.jsx(_,{size:"1.2rem",icon:"filter"})})})]})};z.propTypes={numSelected:f.number.isRequired};const Fe=()=>{const[l,a]=h.useState("asc"),[s,r]=h.useState("calories"),[n,m]=h.useState([]),[p,P]=h.useState(0),[i,C]=h.useState(!1),[j,E]=h.useState(5),v=G();h.useEffect(()=>{v(J())},[v]);const T=N(t=>t.ecommerceReducer.products),[b,I]=h.useState(T),[O,B]=h.useState("");h.useEffect(()=>{I(T)},[T]);const F=t=>{const o=T.filter(c=>c.title.toLowerCase().includes(t.target.value));B(t.target.value),I(o)},H=(t,o)=>{a(s===o&&l==="asc"?"desc":"asc"),r(o)},L=t=>{if(t.target.checked){const o=b.map(c=>c.title);m(o);return}m([])},M=(t,o)=>{const c=n.indexOf(o);let d=[];c===-1?d=d.concat(n,o):c===0?d=d.concat(n.slice(1)):c===n.length-1?d=d.concat(n.slice(0,-1)):c>0&&(d=d.concat(n.slice(0,c),n.slice(c+1))),m(d)},W=(t,o)=>{P(o)},$=t=>{E(parseInt(t.target.value,10)),P(0)},K=t=>{C(t.target.checked)},X=t=>n.indexOf(t)!==-1,q=p>0?Math.max(0,(1+p)*j-b.length):0;return e.jsx(u,{children:e.jsxs(u,{children:[e.jsx(z,{numSelected:n.length,search:O,handleSearch:t=>F(t)}),e.jsxs(ee,{variant:"outlined",sx:{mx:2,mt:1},children:[e.jsx(te,{children:e.jsxs(se,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:i?"small":"medium",children:[e.jsx(D,{numSelected:n.length,order:l,orderBy:s,onSelectAllClick:L,onRequestSort:H,rowCount:b.length}),e.jsxs(ne,{children:[pe(b,xe(l,s)).slice(p*j,p*j+j).map((t,o)=>{const c=X(t.title),d=`enhanced-table-checkbox-${o}`;return e.jsxs(R,{hover:!0,onClick:S=>M(S,t.title),role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[e.jsx(x,{padding:"checkbox",children:e.jsx(A,{color:"primary",checked:c,inputprops:{"aria-labelledby":d}})}),e.jsx(x,{children:e.jsxs(u,{display:"flex",alignItems:"center",children:[e.jsx(ae,{src:t.photo,alt:t.photo,variant:"rounded",sx:{width:56,height:56,borderRadius:"100%"}}),e.jsxs(u,{sx:{ml:2},children:[e.jsx(g,{variant:"h6",fontWeight:"600",children:t.title}),e.jsx(g,{color:"textSecondary",variant:"subtitle2",children:t.category})]})]})}),e.jsx(x,{children:e.jsx(g,{children:ie(new Date(t.created),"E, MMM d yyyy")})}),e.jsx(x,{children:e.jsxs(u,{display:"flex",alignItems:"center",children:[e.jsx(u,{sx:{backgroundColor:t.stock?S=>S.palette.success.main:S=>S.palette.error.main,borderRadius:"100%",height:"10px",width:"10px"}}),e.jsx(g,{color:"textSecondary",variant:"subtitle2",sx:{ml:1},children:t.stock?"InStock":"Out of Stock"})]})}),e.jsx(x,{children:e.jsxs(g,{fontWeight:"500",variant:"h6",children:["$",t.price]})}),e.jsx(x,{children:e.jsx(k,{title:"Edit",children:e.jsx(y,{size:"small",children:e.jsx(V,{size:"1.1rem"})})})})]},t.title)}),q>0&&e.jsx(R,{style:{height:(i?33:53)*q},children:e.jsx(x,{colSpan:6})})]})]})}),e.jsx(ce,{rowsPerPageOptions:[5,10,25],component:"div",count:b.length,rowsPerPage:j,page:p,onPageChange:W,onRowsPerPageChange:$})]}),e.jsx(u,{ml:2,children:e.jsx(le,{control:e.jsx(U,{checked:i,onChange:K}),label:"Dense padding"})})]})})};export{Fe as P};
