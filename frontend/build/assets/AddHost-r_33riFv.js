import{r as d,j as e,D as c,E as u,B as x,A as j,z as g,C as f}from"./index-CJWZi9CB.js";import{C as t}from"./CustomFormLabel-Dc-sew0o.js";import{C as a}from"./CustomTextField-DO2tpUr9.js";import{G as s}from"./Grid2-TKUllLdh.js";import{B as v}from"./Button-BH1WbAiu.js";import"./Typography-DW8TAfFy.js";import"./TextField-ZPSYDyyk.js";import"./useSlot-BJnJs1tW.js";import"./Paper-Dk0UhltF.js";import"./FormControl-CoJ51_a0.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-D8zMB56u.js";import"./isMuiElement-DUOjtQlD.js";import"./useId-5Do1p0JB.js";import"./formControlState-Dq1zat_P.js";import"./Select-BdS4d3Pw.js";import"./index-BwqtTtay.js";import"./Popover-C4QiusQk.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-BmV9fUd8.js";import"./getReactNodeRef-CxaND9dZ.js";import"./ownerWindow-CPegdbNg.js";import"./createChainedFunction-BO_9K8Jh.js";import"./utils-C-EoFTAL.js";import"./Portal-BXG2mGLy.js";import"./debounce-Be36O1Ab.js";import"./Grow-rhCcvyQJ.js";import"./List-CPHbMiuQ.js";import"./useSlotProps-Dmx4i6VU.js";import"./useControlled-Cuh16IWT.js";import"./composeClasses-CkcSq-l_.js";import"./resolveProps-CxWqPvcr.js";function Y(){const[r,l]=d.useState({ip:"",hostname:"",alias:"",deskripsi:"",service:"",hostsTags:"",keterangan:""}),[h,m]=d.useState(!1),i=n=>{l({...r,[n.target.name]:n.target.value})},p=async n=>{if(n.preventDefault(),c()){u(),window.location.href="/auth/login";return}m(!0);try{const o=await fetch(`${x}${j}/hosts`,{method:"POST",headers:g(),body:JSON.stringify(r)});if(!o.ok)throw f({status:o.status}),new Error(`Failed to save host: ${o.status}`);l({ip:"",hostname:"",alias:"",deskripsi:"",service:"",hostsTags:"",keterangan:""}),alert("Host berhasil ditambahkan")}catch(o){console.error(o),alert("Gagal menambahkan host")}finally{m(!1)}};return e.jsx("form",{onSubmit:p,children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"ip",children:"IP"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"ip",name:"ip",value:r.ip,onChange:i,placeholder:"192.168.0.1",fullWidth:!0})}),e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"hostname",children:"Hostname"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"hostname",name:"hostname",value:r.hostname,onChange:i,placeholder:"server01.local",fullWidth:!0})}),e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"alias",children:"Alias"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"alias",name:"alias",value:r.alias,onChange:i,placeholder:"Server Utama",fullWidth:!0})}),e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"deskripsi",children:"Deskripsi"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"deskripsi",name:"deskripsi",value:r.deskripsi,onChange:i,placeholder:"Deskripsi singkat host",multiline:!0,fullWidth:!0})}),e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"service",children:"Service"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"service",name:"service",value:r.service,onChange:i,placeholder:"Web, Database, dll",fullWidth:!0})}),e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"hostsTags",children:"Tags"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"hostsTags",name:"hostsTags",value:r.hostsTags,onChange:i,placeholder:"production,linux",fullWidth:!0})}),e.jsx(s,{size:12,children:e.jsx(t,{htmlFor:"keterangan",children:"Keterangan"})}),e.jsx(s,{size:12,children:e.jsx(a,{id:"keterangan",name:"keterangan",value:r.keterangan,onChange:i,placeholder:"Catatan tambahan",multiline:!0,fullWidth:!0})}),e.jsx(s,{size:12,mt:3,children:e.jsx(v,{variant:"contained",color:"primary",type:"submit",disabled:h,children:h?"Menyimpan...":"Tambah Host"})})]})})}export{Y as default};
