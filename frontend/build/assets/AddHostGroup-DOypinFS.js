import{r as u,j as r,D as d,E as g,B as c,A as x,z as j,C as f}from"./index-CJWZi9CB.js";import{C as s}from"./CustomFormLabel-Dc-sew0o.js";import{C as i}from"./CustomTextField-DO2tpUr9.js";import{G as a}from"./Grid2-TKUllLdh.js";import{B as C}from"./Button-BH1WbAiu.js";import"./Typography-DW8TAfFy.js";import"./TextField-ZPSYDyyk.js";import"./useSlot-BJnJs1tW.js";import"./Paper-Dk0UhltF.js";import"./FormControl-CoJ51_a0.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-D8zMB56u.js";import"./isMuiElement-DUOjtQlD.js";import"./useId-5Do1p0JB.js";import"./formControlState-Dq1zat_P.js";import"./Select-BdS4d3Pw.js";import"./index-BwqtTtay.js";import"./Popover-C4QiusQk.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-BmV9fUd8.js";import"./getReactNodeRef-CxaND9dZ.js";import"./ownerWindow-CPegdbNg.js";import"./createChainedFunction-BO_9K8Jh.js";import"./utils-C-EoFTAL.js";import"./Portal-BXG2mGLy.js";import"./debounce-Be36O1Ab.js";import"./Grow-rhCcvyQJ.js";import"./List-CPHbMiuQ.js";import"./useSlotProps-Dmx4i6VU.js";import"./useControlled-Cuh16IWT.js";import"./composeClasses-CkcSq-l_.js";import"./resolveProps-CxWqPvcr.js";function Y(){const[e,l]=u.useState({groupName:"",alias:"",hostID:"",groupsTags:"",keterangan:""}),[m,p]=u.useState(!1),t=n=>{l({...e,[n.target.name]:n.target.value})},h=async n=>{if(n.preventDefault(),d()){g(),window.location.href="/auth/login";return}p(!0);try{const o=await fetch(`${c}${x}/hosts/groups`,{method:"POST",headers:{...j(),"Content-Type":"application/json"},body:JSON.stringify({group_name:e.groupName,alias:e.alias,host_id:parseInt(e.hostID,10)||0,groups_tags:e.groupsTags,keterangan:e.keterangan})});if(!o.ok)throw f({status:o.status}),new Error(`Failed to save host group: ${o.status}`);l({groupName:"",alias:"",hostID:"",groupsTags:"",keterangan:""}),alert("Host Group berhasil ditambahkan")}catch(o){console.error(o),alert("Gagal menambahkan Host Group")}finally{p(!1)}};return r.jsx("form",{onSubmit:h,children:r.jsxs(a,{container:!0,spacing:2,children:[r.jsx(a,{size:12,children:r.jsx(s,{htmlFor:"groupName",children:"Group Name"})}),r.jsx(a,{size:12,children:r.jsx(i,{id:"groupName",name:"groupName",value:e.groupName,onChange:t,placeholder:"Nama group, misal: Web Servers",fullWidth:!0})}),r.jsx(a,{size:12,children:r.jsx(s,{htmlFor:"alias",children:"Alias"})}),r.jsx(a,{size:12,children:r.jsx(i,{id:"alias",name:"alias",value:e.alias,onChange:t,placeholder:"Alias group, misal: Production Cluster",fullWidth:!0})}),r.jsx(a,{size:12,children:r.jsx(s,{htmlFor:"hostID",children:"Host ID"})}),r.jsx(a,{size:12,children:r.jsx(i,{id:"hostID",name:"hostID",type:"number",value:e.hostID,onChange:t,placeholder:"ID host yang terkait",fullWidth:!0})}),r.jsx(a,{size:12,children:r.jsx(s,{htmlFor:"groupsTags",children:"Groups Tags"})}),r.jsx(a,{size:12,children:r.jsx(i,{id:"groupsTags",name:"groupsTags",value:e.groupsTags,onChange:t,placeholder:"production,linux",fullWidth:!0})}),r.jsx(a,{size:12,children:r.jsx(s,{htmlFor:"keterangan",children:"Keterangan"})}),r.jsx(a,{size:12,children:r.jsx(i,{id:"keterangan",name:"keterangan",value:e.keterangan,onChange:t,placeholder:"Catatan tambahan",multiline:!0,fullWidth:!0})}),r.jsx(a,{size:12,mt:3,children:r.jsx(C,{variant:"contained",color:"primary",type:"submit",disabled:m,children:m?"Menyimpan...":"Tambah Host Group"})})]})})}export{Y as default};
